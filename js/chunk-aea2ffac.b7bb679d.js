(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aea2ffac"],{"1a73":function(e,t,i){e.exports=i.p+"img/图5背景.a6fbab78.png"},"3af0":function(e,t,i){"use strict";var a=i("a7bc"),s=i.n(a);s.a},"7c65":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isFetchingData,expression:"isFetchingData"}],staticClass:"page",attrs:{"element-loading-text":e.loadingText,"element-loading-background":"rgba(2,8,16,0.4)","element-loading-custom-class":"v_loading_custom_class"}},[a("div",{staticClass:"v_home_container"},[a("img",{staticClass:"v_img_bg_1",attrs:{src:i("1a73")}}),a("img",{staticClass:"v_img_bg_2",attrs:{src:i("9695")},on:{click:e.handleClick}})]),e.isReady?e._e():a("div",{staticClass:"v_mask"},[e._v("Error.")])])},s=[],n={name:"home",data:function(){return{isFetchingData:!0,loadingText:"数据加载中...",height_rate:630/521,icon_w_rate:515/750,isReady:!0,userId:"",inviteCode:""}},methods:{resizeWindow:function(){var e=$(".v_img_bg_1"),t=$(".v_img_bg_2"),i=e.width()*this.icon_w_rate,a=i*this.height_rate;t.css({width:i,height:a,marginLeft:i/2*-1,marginTop:a/2*-1})},calculateActivityState:function(e){var t=e.result;t&&!$.isEmptyObject(t)&&(0==t.reaPackStatus?(this.inviteCode=t.inviteCode,1!=t.activityStatus&&this.$router.push({name:"home",query:{userId:this.userId}})):1==t.reaPackStatus?this.inviteCode=t.inviteCode:2==t.reaPackStatus&&this.$router.push({name:"openedRedPackage",query:{userId:this.userId}}))},handleClick:function(){var e=this,t=new FormData;t.set("userId",this.userId),t.set("inviteCode",this.inviteCode),this.isFetchingData=!0,this.ajax.getRedPack(t).then((function(t){console.log(t),e.$router.push({name:"openedRedPackage",query:{userId:e.userId}})}),(function(t){e.isFetchingData=!1}))}},mounted:function(){var e=this;if(this.resizeWindow(),$(window).on("resize.openRedPackage",(function(){e.resizeWindow()})),this.userId=this.$route.query.userId||"",""==this.userId)return this.$message({type:"info",message:"路由参数不合法，请传入userId。",offset:0,center:!0}),this.isFetchingData=!1,void(this.isReady=!1);var t=new FormData;t.set("userId",this.userId),this.ajax.getActivityState(t).then((function(t){console.log(t),e.calculateActivityState(t),e.isFetchingData=!1}),(function(t){e.$notify({title:"提示",message:"服务调用出现异常，请联系管理员。",type:"error",duration:3e3}),e.isFetchingData=!1,e.isReady=!1}))},beforeDestroy:function(){$(window).off("resize.openRedPackage")}},o=n,r=(i("3af0"),i("2877")),c=Object(r["a"])(o,a,s,!1,null,"2b36ea64",null);t["default"]=c.exports},9695:function(e,t,i){e.exports=i.p+"img/红包.566db2d2.png"},a7bc:function(e,t,i){}}]);